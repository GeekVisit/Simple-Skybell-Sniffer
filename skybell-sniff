# /etc/default/skybell-sniff
# Copyright Â© 2017 Alexander Thoukydides

# SkyBell HD doorbell hostname (or IP address) and name
SKYBELL_HOST=skybell
SKYBELL_NAME='Doorbell'

# Configuration for homebridge-skybell webhooks
HOMEBRIDGE_SKYBELL_PORT=47569
HOMEBRIDGE_SKYBELL_SECRET='My webhooks secret'

# Gateway/router hostname and ssh username
ROUTER_HOST=192.168.0.1
ROUTER_USER=root

# Command used to sniff the doorbell traffic
SKYBELL_CMD_TCPDUMP="ssh ${ROUTER_USER}@${ROUTER_HOST} \"/usr/sbin/tcpdump -lpnttti eth0 host ${SKYBELL_HOST} and port 5683\""

# Command executed when a button press or motion is detected
SKYBELL_CMD_MOTION="curl -d '{\"secret\":\"${HOMEBRIDGE_SKYBELL_SECRET}\",\"name\":\"${SKYBELL_NAME}\"}' http://localhost:${HOMEBRIDGE_SKYBELL_PORT}/homebridge-skybell/trigger/motion"
